
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title></title>
<link th:replace="common/fragment::common"/>

<script type="text/javascript" th:inline="javascript">

$(function() {
	
	test();
	
})


function getVal(v) {
	if (v) return v;
	return "";
}

function add(obj) {
	
}

function edit(obj, store_no) {
	
}

function test() {
	$.post(contextPath + "coreTool/listStore", {}, function(r) {
		if (r.code !== 0) return;
		
		var newObj = {};
		newObj.action = "ADD";
		r.list.push(newObj);
		
		for (var i = 0; i < r.list.length; i++) {
			var v = r.list[i];
			var actionStr = '';
			if (v.action == "ADD") actionStr = '<button type="button" onclick="add(this)">add</button>';
			else actionStr = '<button type="button" onclick="edit(this, \'' + v.storeNo + '\')">edit</button>';
			$("#table").append('<tr>\
				<td><input type="text" name="storeNo" value="' + getVal(v.storeNo) +'"></td>\
				<td><input type="text" name="storeName" value="' + getVal(v.storeName) +'"></td>\
				<td><input type="text" name="storeAddress" value="' + getVal(v.storeAddress) +'"></td>\
				<td><input type="text" name="storeLng" value="' + getVal(v.storeLng) +'"></td>\
				<td><input type="text" name="storeLat" value="' + getVal(v.storeLat) +'"></td>\
				<td>' + actionStr + '</td>\
			</tr>');
		}
	})
}



</script>


</head>

<body>


<table id="table" border="1">
<tr>
	<td>no</td><td>name</td><td>addr</td><td>lng</td><td>lat</td><td>action</td>
</tr>
	

</table>




</body>
</html>




